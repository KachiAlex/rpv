(()=>{var e={};e.id=346,e.ids=[346],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},74026:e=>{"use strict";e.exports=require("string_decoder")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98061:e=>{"use strict";e.exports=require("node:assert")},92761:e=>{"use strict";e.exports=require("node:async_hooks")},72254:e=>{"use strict";e.exports=require("node:buffer")},40027:e=>{"use strict";e.exports=require("node:console")},6005:e=>{"use strict";e.exports=require("node:crypto")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},42725:e=>{"use strict";e.exports=require("node:http2")},87503:e=>{"use strict";e.exports=require("node:net")},38846:e=>{"use strict";e.exports=require("node:perf_hooks")},39630:e=>{"use strict";e.exports=require("node:querystring")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},41041:e=>{"use strict";e.exports=require("node:url")},47261:e=>{"use strict";e.exports=require("node:util")},93746:e=>{"use strict";e.exports=require("node:util/types")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},92015:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(36147),t(77896),t(35866);var s=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["account",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,36147)),"C:\\RPV\\rpv-bible\\src\\app\\account\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,77896)),"C:\\RPV\\rpv-bible\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\RPV\\rpv-bible\\src\\app\\account\\page.tsx"],u="/account/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/account/page",pathname:"/account",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},94292:(e,r,t)=>{Promise.resolve().then(t.bind(t,79433))},96015:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(62881).Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},88378:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(62881).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},79433:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(10326),a=t(17577),i=t(4109),n=t(4775),l=t(99763),o=t(79635),c=t(96015);let d=(0,t(62881).Z)("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var u=t(88378),x=t(90434);function m(){let{user:e,isAuthenticated:r}=(0,n.a)(),[t,i]=(0,a.useState)(null),[m,p]=(0,a.useState)([]),[h,b]=(0,a.useState)([]),[v,g]=(0,a.useState)(!0),[j,f]=(0,a.useState)("bookmarks"),y=new l.K,N=async r=>{if(e&&t)try{await y.savePreferences(e.uid,r),i({...t,...r}),alert("Preferences saved!")}catch(e){console.error("Error saving preferences:",e),alert("Failed to save preferences")}};return v?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading..."})]})}):(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-6 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-brand-100 flex items-center justify-center",children:s.jsx(o.Z,{size:32,className:"text-brand-600"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:e?.displayName||e?.email?.split("@")[0]||"User"}),s.jsx("p",{className:"text-neutral-600",children:e?.email})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 border-b",children:[(0,s.jsxs)("button",{onClick:()=>f("bookmarks"),className:`px-4 py-2 font-medium text-sm transition-colors ${"bookmarks"===j?"text-brand-600 border-b-2 border-brand-600":"text-neutral-600 hover:text-neutral-900"}`,children:[s.jsx(c.Z,{size:16,className:"inline mr-2"}),"Bookmarks (",m.length,")"]}),(0,s.jsxs)("button",{onClick:()=>f("history"),className:`px-4 py-2 font-medium text-sm transition-colors ${"history"===j?"text-brand-600 border-b-2 border-brand-600":"text-neutral-600 hover:text-neutral-900"}`,children:[s.jsx(d,{size:16,className:"inline mr-2"}),"History (",h.length,")"]}),(0,s.jsxs)("button",{onClick:()=>f("settings"),className:`px-4 py-2 font-medium text-sm transition-colors ${"settings"===j?"text-brand-600 border-b-2 border-brand-600":"text-neutral-600 hover:text-neutral-900"}`,children:[s.jsx(u.Z,{size:16,className:"inline mr-2"}),"Settings"]})]})]}),"bookmarks"===j&&(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Bookmarks"}),0===m.length?s.jsx("p",{className:"text-neutral-500 text-center py-8",children:"No bookmarks yet. Start bookmarking verses while reading!"}):s.jsx("div",{className:"space-y-3",children:m.map(e=>s.jsx(x.default,{href:`/read?translation=${e.translationId}&book=${e.book}&chapter=${e.chapter}&verse=${e.verse}`,className:"block p-4 rounded-lg border hover:bg-neutral-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-semibold text-brand-700 mb-1",children:[e.book," ",e.chapter,":",e.verse]}),e.note&&s.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:e.note}),s.jsx("p",{className:"text-xs text-neutral-500",children:new Date(e.createdAt).toLocaleDateString()})]})})},e.id))})]}),"history"===j&&(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Reading History"}),0===h.length?s.jsx("p",{className:"text-neutral-500 text-center py-8",children:"No reading history yet. Start reading to see your history!"}):s.jsx("div",{className:"space-y-3",children:h.map(e=>s.jsx(x.default,{href:`/read?translation=${e.translationId}&book=${e.book}&chapter=${e.chapter}&verse=${e.verse}`,className:"block p-4 rounded-lg border hover:bg-neutral-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-semibold text-brand-700 mb-1",children:[e.book," ",e.chapter,":",e.verse]}),s.jsx("p",{className:"text-xs text-neutral-500",children:new Date(e.timestamp).toLocaleString()})]})})},e.id))})]}),"settings"===j&&t&&(0,s.jsxs)("div",{className:"rounded-xl border bg-white p-6",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Preferences"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Theme"}),(0,s.jsxs)("select",{value:t.theme,onChange:e=>N({theme:e.target.value}),className:"w-full rounded-md border p-2",children:[s.jsx("option",{value:"auto",children:"Auto"}),s.jsx("option",{value:"light",children:"Light"}),s.jsx("option",{value:"dark",children:"Dark"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Font Size"}),(0,s.jsxs)("select",{value:t.fontSize,onChange:e=>N({fontSize:e.target.value}),className:"w-full rounded-md border p-2",children:[s.jsx("option",{value:"small",children:"Small"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"large",children:"Large"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Language"}),s.jsx("input",{type:"text",value:t.language,onChange:e=>N({language:e.target.value}),className:"w-full rounded-md border p-2",placeholder:"en"})]})]})]})]})}function p(){return s.jsx(i.i,{children:s.jsx(m,{})})}},4109:(e,r,t)=>{"use strict";t.d(r,{i:()=>o});var s=t(10326),a=t(17577),i=t(35047),n=t(4775),l=t(99763);function o({children:e,requireAdmin:r=!1,redirectTo:t="/login"}){let{user:o,loading:c,isAuthenticated:d}=(0,n.a)(),[u,x]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),h=(0,i.useRouter)();return((0,a.useCallback)(async()=>{if(o){p(!0);try{let e=new l.K,r=await e.getUserRole(o.uid);x("admin"===r),"admin"!==r&&h.replace("/admin/login?error=unauthorized")}catch(e){console.error("Error checking admin role:",e),h.replace("/admin/login?error=unauthorized")}finally{p(!1)}}},[o,h]),c||m)?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-600 mx-auto mb-4"}),s.jsx("p",{className:"text-neutral-600",children:"Loading..."})]})}):d&&(!r||u)?s.jsx(s.Fragment,{children:e}):null}},36147:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\RPV\rpv-bible\src\app\account\page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[829,116],()=>t(92015));module.exports=s})();