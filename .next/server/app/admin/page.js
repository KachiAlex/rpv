(()=>{var e={};e.id=3,e.ids=[3],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},77757:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(44753),r(21976),r(35866);var s=r(23191),a=r(88716),n=r(37922),l=r.n(n),i=r(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,44753)),"C:\\RPV\\rpv-bible\\src\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,21976)),"C:\\RPV\\rpv-bible\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\RPV\\rpv-bible\\src\\app\\admin\\page.tsx"],u="/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90522:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},89677:(e,t,r)=>{Promise.resolve().then(r.bind(r,14189))},98697:(e,t,r)=>{Promise.resolve().then(r.bind(r,82548))},14189:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>i});var s=r(10326),a=r(17577),n=r(92956);async function l(e,t,s,a){let{parseDocument:n}=await r.e(464).then(r.bind(r,84464));return n(e,t,s,a)}let i="force-dynamic";function o(){let{importJson:e,addOrUpdateVerse:t}=(0,n.R)(),[r,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)("sample"),[x,h]=(0,a.useState)("Sample Translation"),[b,f]=(0,a.useState)("John"),[v,g]=(0,a.useState)(3),[j,N]=(0,a.useState)(16),[P,w]=(0,a.useState)(""),y=async()=>{if(!r){alert("Please select a PDF or DOCX file");return}let t=r.name.toLowerCase().endsWith(".docx")?"DOCX":"PDF";d(!0),u(`Extracting text from ${t}...`);try{u("Parsing chapters and verses...");let t=await l(r,m,x,b);u("Importing translation..."),e({translations:[t]}),u("Complete!"),alert(`Upload complete! Found ${t.books[0]?.chapters.length||0} chapters.`),i(null)}catch(e){console.error("Document parsing error:",e),alert(`Error parsing document: ${e instanceof Error?e.message:"Unknown error"}`)}finally{d(!1),u("")}};return(0,s.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,s.jsxs)("section",{className:"rounded-xl border bg-white p-6",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Upload Document Translation"}),s.jsx("p",{className:"text-sm text-neutral-600 mt-1",children:"Upload a PDF or DOCX file containing Bible text. The system will automatically identify chapters and verses."}),(0,s.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Translation ID"}),s.jsx("input",{className:"w-full rounded-md border p-2",value:m,onChange:e=>p(e.target.value),placeholder:"e.g., pidgin-bible"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Translation Name"}),s.jsx("input",{className:"w-full rounded-md border p-2",value:x,onChange:e=>h(e.target.value),placeholder:"e.g., Pidgin Bible"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Book Name"}),s.jsx("input",{className:"w-full rounded-md border p-2",value:b,onChange:e=>f(e.target.value),placeholder:"e.g., John"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Document File (PDF or DOCX)"}),s.jsx("input",{type:"file",accept:"application/pdf,.pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.docx",onChange:e=>i(e.target.files?.[0]??null),className:"w-full rounded-md border p-2",disabled:o}),r&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-neutral-600",children:["Selected: ",r.name]})]}),c&&s.jsx("p",{className:"text-sm text-brand-600",children:c}),s.jsx("button",{className:"w-full rounded-md bg-brand-600 px-4 py-2 text-white hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:y,disabled:o||!r,children:o?"Parsing Document...":"Upload & Parse Document"})]}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-neutral-50 rounded-md text-xs text-neutral-600",children:[s.jsx("p",{className:"font-medium mb-1",children:"Tips for best results:"}),(0,s.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:'Ensure chapters are clearly marked (e.g., "Chapter 1", "1", etc.)'}),s.jsx("li",{children:'Verses should start with verse numbers (e.g., "1 Text here" or "1: Text here")'}),s.jsx("li",{children:"Use a single book per file (PDF or DOCX)"})]})]})]}),(0,s.jsxs)("section",{className:"rounded-xl border bg-white p-6",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Quick Edit Verse"}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Translation ID"}),s.jsx("input",{className:"w-full rounded-md border p-2",value:m,onChange:e=>p(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Book"}),s.jsx("input",{className:"w-full rounded-md border p-2",value:b,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Chapter"}),s.jsx("input",{type:"number",className:"w-full rounded-md border p-2",value:v,onChange:e=>g(Number(e.target.value))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Verse"}),s.jsx("input",{type:"number",className:"w-full rounded-md border p-2",value:j,onChange:e=>N(Number(e.target.value))})]})]}),s.jsx("label",{className:"block text-sm font-medium mt-3",children:"Text"}),s.jsx("textarea",{className:"w-full rounded-md border p-2 min-h-[120px]",value:P,onChange:e=>w(e.target.value)}),s.jsx("div",{className:"mt-3 flex gap-2",children:s.jsx("button",{className:"rounded-md bg-brand-600 px-4 py-2 text-white",onClick:()=>t({translationId:m,book:b,chapter:v,verse:j,text:P}),children:"Save Verse"})})]})]})}},82548:(e,t,r)=>{"use strict";r.d(t,{Navbar:()=>c});var s=r(10326),a=r(90434),n=r(35047),l=r(2304),i=r(2634),o=r(63685),d=r(41135);function c(){let e=(0,n.usePathname)();return s.jsx("header",{className:"border-b bg-white/80 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:(0,s.jsxs)("div",{className:"container-max flex items-center justify-between py-4",children:[s.jsx(a.default,{href:"/",className:"font-semibold tracking-tight",children:"RPV Bible"}),(0,s.jsxs)("nav",{className:"flex items-center gap-6 text-sm",children:[s.jsx(a.default,{className:(0,d.Z)("hover:text-brand-700","/"===e&&"text-brand-700 font-medium"),href:"/",children:"Home"}),(0,s.jsxs)(a.default,{className:(0,d.Z)("hover:text-brand-700 inline-flex items-center gap-2","/read"===e&&"text-brand-700 font-medium"),href:"/read",children:[s.jsx(l.Z,{size:16}),"Read"]}),(0,s.jsxs)(a.default,{className:(0,d.Z)("hover:text-brand-700 inline-flex items-center gap-2","/projector"===e&&"text-brand-700 font-medium"),href:"/projector",children:[s.jsx(i.Z,{size:16}),"Projector"]}),(0,s.jsxs)(a.default,{className:(0,d.Z)("hover:text-brand-700 inline-flex items-center gap-2","/admin"===e&&"text-brand-700 font-medium"),href:"/admin",children:[s.jsx(o.Z,{size:16}),"Admin"]})]})]})})}},92956:(e,t,r)=>{"use strict";r.d(t,{R:()=>c});var s=r(60114),a=r(42585),n=r(76);let l=null,i=null;function o(){let e="AIzaSyDYTudeKDSvY_IrwI5nookV0cv828uAAvU";return e?(l||(l=(0,a.ZF)({apiKey:e,authDomain:"redemptionprojectversion.firebaseapp.com",projectId:"redemptionprojectversion",storageBucket:"redemptionprojectversion.firebasestorage.app",messagingSenderId:"262491376013",appId:"1:262491376013:web:edc2194e6bb7819294d5c4"}),i=(0,n.ad)(l)),{app:l,db:i}):{app:null,db:null}}let d={id:"sample",name:"Sample Translation",books:[{name:"John",chapters:[{number:3,verses:[{number:16,text:"For God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life."}]}]}]},c=(0,s.Ue)((e,t)=>({translations:[],current:null,projectorRef:{translation:"",book:"",chapter:0,verse:0,text:""},channelId:"default",loadSample:()=>{t().translations.length||e({translations:[d],current:d})},setCurrent:r=>{e({current:t().translations.find(e=>e.id===r)??null})},setReference:e=>{},setChannelId:t=>e({channelId:t}),sendToProjector:r=>{let s=t().current;if(!s)return;let a=s.books.find(e=>e.name===r.book),l=a?.chapters.find(e=>e.number===r.chapter),i=l?.verses.find(e=>e.number===r.verse),d={translation:s.name,...r,text:i?.text??""};e({projectorRef:d});let{db:c}=o(),u=t().channelId||"default";c&&(0,n.pl)((0,n.JU)(c,"channels",u),d,{merge:!0})},subscribeToChannel:()=>{let r=t().channelId||"default",{db:s}=o();if(s){(0,n.cf)((0,n.JU)(s,"channels",r),t=>{let r=t.data();r&&e({projectorRef:r})});return}},importJson:t=>{let r=t.translations??[];e({translations:r,current:r[0]??null})},addOrUpdateVerse:({translationId:r,book:s,chapter:a,verse:n,text:l})=>{let i=t(),o=[...i.translations],d=o.find(e=>e.id===r);d||(d={id:r,name:r,books:[]},o.push(d));let c=d.books.find(e=>e.name===s);c||(c={name:s,chapters:[]},d.books.push(c));let u=c.chapters.find(e=>e.number===a);u||(u={number:a,verses:[]},c.chapters.push(u));let m=u.verses.find(e=>e.number===n);m?m.text=l:u.verses.push({number:n,text:l}),e({translations:o,current:i.current??o[0]??null})}}))},44753:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,dynamic:()=>a});var s=r(68570);let a=(0,s.createProxy)(String.raw`C:\RPV\rpv-bible\src\app\admin\page.tsx#dynamic`),n=(0,s.createProxy)(String.raw`C:\RPV\rpv-bible\src\app\admin\page.tsx#default`)},21976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>l});var s=r(19510);r(5023);let a=(0,r(68570).createProxy)(String.raw`C:\RPV\rpv-bible\src\components\navbar.tsx#Navbar`);function n(){return s.jsx("footer",{className:"mt-16 border-t bg-white",children:(0,s.jsxs)("div",{className:"container-max py-6 text-sm text-neutral-600",children:["\xa9 ",new Date().getFullYear()," RPV Bible. All rights reserved."]})})}let l={title:"RPV Bible",description:"Unique Bible app for web, mobile, and projection"};function i({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{children:[s.jsx(a,{}),s.jsx("main",{className:"container-max py-8",children:e}),s.jsx(n,{})]})})}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[219,698],()=>r(77757));module.exports=s})();