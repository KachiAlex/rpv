(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[323],{6942:function(e,n,r){Promise.resolve().then(r.bind(r,3602))},9205:function(e,n,r){"use strict";r.d(n,{Z:function(){return i}});var t=r(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.filter((e,n,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===n).join(" ").trim()};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,t.forwardRef)((e,n)=>{let{color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:c,...m}=e;return(0,t.createElement)("svg",{ref:n,...a,width:l,height:l,stroke:r,strokeWidth:i?24*Number(o)/Number(l):o,className:s("lucide",d),...m},[...c.map(e=>{let[n,r]=e;return(0,t.createElement)(n,r)}),...Array.isArray(u)?u:[u]])}),i=(e,n)=>{let r=(0,t.forwardRef)((r,a)=>{let{className:i,...d}=r;return(0,t.createElement)(o,{ref:a,iconNode:n,className:s("lucide-".concat(l(e)),i),...d})});return r.displayName="".concat(e),r}},3602:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return d}});var t=r(7437),l=r(2265),s=r(9582),a=r(9205);let o=(0,a.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),i=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function d(){var e;let{translations:n,current:r,loadSample:a,setReference:d}=(0,s.R)(),[u,c]=(0,l.useState)(""),[m,h]=(0,l.useState)(1),[p,v]=(0,l.useState)(1);(0,l.useEffect)(()=>{a()},[a]);let b=(0,l.useMemo)(()=>{var e;return null!==(e=null==r?void 0:r.books)&&void 0!==e?e:[]},[r]),f=(0,l.useMemo)(()=>{let e=b.find(e=>e.name===u);return e?e.chapters.map(e=>e.number):[]},[b,u]),x=(0,l.useMemo)(()=>{let e=b.find(e=>e.name===u),n=null==e?void 0:e.chapters.find(e=>e.number===m);return n?n.verses.map(e=>e.number):[]},[b,u,m]),g=(0,l.useMemo)(()=>{let e=b.find(e=>e.name===u),n=null==e?void 0:e.chapters.find(e=>e.number===m);if(!n||0===n.verses.length)return[];let r=n.verses.findIndex(e=>e.number===p);if(-1===r)return n.verses.slice(0,10);let t=Math.min(n.verses.length,r+6);return n.verses.slice(Math.max(0,r-5),t)},[b,u,m,p]),{previousChapter:j,nextChapter:k}=(0,l.useMemo)(()=>{let e=[...f].sort((e,n)=>e-n),n=e.indexOf(m);return{previousChapter:n>0?e[n-1]:null,nextChapter:n<e.length-1?e[n+1]:null}},[f,m]);return(0,l.useEffect)(()=>{u&&m&&p&&d({book:u,chapter:m,verse:p})},[u,m,p,d]),(0,l.useEffect)(()=>{let e=document.getElementById("verse-".concat(p));e&&e.scrollIntoView({behavior:"smooth",block:"center"})},[p]),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[320px_1fr]",children:[(0,t.jsx)("aside",{className:"rounded-xl border bg-white p-4 h-fit sticky top-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Translation"}),(0,t.jsx)("select",{className:"w-full rounded-md border p-2",value:null!==(e=null==r?void 0:r.id)&&void 0!==e?e:"",onChange:e=>s.R.getState().setCurrent(e.target.value),children:n.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)("label",{className:"block text-sm font-medium mt-4",children:"Book"}),(0,t.jsxs)("select",{className:"w-full rounded-md border p-2",value:u,onChange:e=>c(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select book"}),b.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.name))]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Chapter"}),(0,t.jsx)("select",{className:"w-full rounded-md border p-2",value:m,onChange:e=>h(Number(e.target.value)),children:f.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium",children:"Start Verse"}),(0,t.jsx)("select",{className:"w-full rounded-md border p-2",value:p,onChange:e=>v(Number(e.target.value)),children:x.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]})}),(0,t.jsxs)("section",{className:"rounded-xl border bg-white p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("div",{className:"text-sm text-neutral-500",children:[null==r?void 0:r.name," • ",u||"—"," ",m]}),u&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("button",{onClick:()=>{null!==j&&(h(j),v(1))},disabled:null===j,className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ".concat(null===j?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:j?"Go to Chapter ".concat(j):"No previous chapter",children:[(0,t.jsx)(o,{size:16}),(0,t.jsx)("span",{children:"Previous"})]}),(0,t.jsxs)("button",{onClick:()=>{null!==k&&(h(k),v(1))},disabled:null===k,className:"flex items-center gap-1 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ".concat(null===k?"bg-neutral-100 text-neutral-400 cursor-not-allowed":"bg-neutral-100 text-neutral-700 hover:bg-neutral-200"),title:k?"Go to Chapter ".concat(k):"No next chapter",children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(i,{size:16})]})]})]}),0===g.length?(0,t.jsx)("div",{className:"text-neutral-500 text-center py-12",children:"Choose a book, chapter, and verse."}):(0,t.jsx)("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:g.map(e=>(0,t.jsxs)("div",{id:"verse-".concat(e.number),className:"p-4 rounded-lg transition-colors ".concat(e.number===p?"bg-brand-50 border-2 border-brand-300":"bg-neutral-50 border border-neutral-200"),children:[(0,t.jsxs)("div",{className:"text-sm font-semibold text-brand-700 mb-2",children:[u," ",m,":",e.number]}),(0,t.jsx)("div",{className:"text-lg leading-relaxed text-neutral-900",children:e.text})]},e.number))})]})]})}},9582:function(e,n,r){"use strict";r.d(n,{R:function(){return u}});var t=r(9625),l=r(738),s=r(5978);let a=null,o=null;function i(){let e="AIzaSyDYTudeKDSvY_IrwI5nookV0cv828uAAvU";return e?(a||(a=(0,l.ZF)({apiKey:e,authDomain:"redemptionprojectversion.firebaseapp.com",projectId:"redemptionprojectversion",storageBucket:"redemptionprojectversion.firebasestorage.app",messagingSenderId:"262491376013",appId:"1:262491376013:web:edc2194e6bb7819294d5c4"}),o=(0,s.ad)(a)),{app:a,db:o}):{app:null,db:null}}let d={id:"sample",name:"Sample Translation",books:[{name:"John",chapters:[{number:3,verses:[{number:16,text:"For God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life."}]}]}]},u=(0,t.Ue)((e,n)=>({translations:[],current:null,projectorRef:{translation:"",book:"",chapter:0,verse:0,text:""},channelId:"default",loadSample:()=>{n().translations.length||e({translations:[d],current:d})},setCurrent:r=>{var t;e({current:null!==(t=n().translations.find(e=>e.id===r))&&void 0!==t?t:null})},setReference:e=>{},setChannelId:n=>e({channelId:n}),sendToProjector:r=>{var t;let l=n().current;if(!l)return;let a=l.books.find(e=>e.name===r.book),o=null==a?void 0:a.chapters.find(e=>e.number===r.chapter),d=null==o?void 0:o.verses.find(e=>e.number===r.verse),u={translation:l.name,...r,text:null!==(t=null==d?void 0:d.text)&&void 0!==t?t:""};e({projectorRef:u});let{db:c}=i(),m=n().channelId||"default";c?(0,s.pl)((0,s.JU)(c,"channels",m),u,{merge:!0}):(localStorage.setItem("rpv:projector:".concat(m),JSON.stringify(u)),window.dispatchEvent(new StorageEvent("storage",{key:"rpv:projector:".concat(m)})))},subscribeToChannel:()=>{let r=n().channelId||"default",{db:t}=i();if(t){(0,s.cf)((0,s.JU)(t,"channels",r),n=>{let r=n.data();r&&e({projectorRef:r})});return}let l=()=>{try{let n=localStorage.getItem("rpv:projector:".concat(r));n&&e({projectorRef:JSON.parse(n)})}catch(e){}};l(),window.addEventListener("storage",e=>{e.key==="rpv:projector:".concat(r)&&l()})},importJson:n=>{var r,t;let l=null!==(r=n.translations)&&void 0!==r?r:[];e({translations:l,current:null!==(t=l[0])&&void 0!==t?t:null})},mergeTranslation:r=>{var t,l;let s=n(),a=s.translations.findIndex(e=>e.id===r.id);if(a>=0){let n;let l=s.translations[a],o=l.books.find(e=>{var n;return e.name===(null===(n=r.books[0])||void 0===n?void 0:n.name)});if(o){let e=r.books[0],t=[...o.chapters];e.chapters.forEach(e=>{let n=t.findIndex(n=>n.number===e.number);if(n>=0){let r=t[n],l=[...r.verses];e.verses.forEach(e=>{let n=l.findIndex(n=>n.number===e.number);n>=0?l[n]=e:l.push(e)}),l.sort((e,n)=>e.number-n.number),t[n]={...r,verses:l}}else t.push(e)}),t.sort((e,n)=>e.number-n.number),n=l.books.map(e=>e.name===o.name?{...e,chapters:t}:e)}else n=[...l.books,r.books[0]];let i={...l,name:r.name||l.name,books:n},d=[...s.translations];d[a]=i,e({translations:d,current:(null===(t=s.current)||void 0===t?void 0:t.id)===r.id?i:s.current})}else e({translations:[...s.translations,r],current:null!==(l=s.current)&&void 0!==l?l:r})},addOrUpdateVerse:r=>{var t,l,s;let{translationId:a,book:o,chapter:i,verse:d,text:u}=r,c=n(),m=c.translations.map(e=>{if(e.id!==a)return e;let n=e.books.map(e=>{if(e.name!==o)return e;let n=e.chapters.map(e=>{if(e.number!==i)return e;let n=[...e.verses],r=n.findIndex(e=>e.number===d);return r>=0?n[r]={number:d,text:u}:n.push({number:d,text:u}),{...e,verses:n}});return 0>n.findIndex(e=>e.number===i)&&n.push({number:i,verses:[{number:d,text:u}]}),{...e,chapters:n}});return 0>n.findIndex(e=>e.name===o)&&n.push({name:o,chapters:[{number:i,verses:[{number:d,text:u}]}]}),{...e,books:n}});0>m.findIndex(e=>e.id===a)&&m.push({id:a,name:a,books:[{name:o,chapters:[{number:i,verses:[{number:d,text:u}]}]}]}),e({translations:m,current:null!==(s=null!==(l=null!==(t=c.current)&&void 0!==t?t:m.find(e=>e.id===a))&&void 0!==l?l:m[0])&&void 0!==s?s:null})}}))}},function(e){e.O(0,[358,338,971,117,744],function(){return e(e.s=6942)}),_N_E=e.O()}]);