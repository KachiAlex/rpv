(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[246],{7097:function(e,t,n){Promise.resolve().then(n.bind(n,4559))},4559:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),a=n(2265),s=n(9582);function l(){let{projectorRef:e,subscribeToChannel:t,setChannelId:n}=(0,s.R)(),[l,o]=(0,a.useState)("default");return(0,a.useEffect)(()=>{n(l),t()},[l,n,t]),(0,r.jsxs)("div",{className:"min-h-[70vh] grid place-items-center",children:[(0,r.jsxs)("div",{className:"w-full rounded-2xl border bg-black text-white p-10 shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-sm text-white/70",children:[e.translation," â€¢ ",e.book," ",e.chapter,":",e.verse]}),(0,r.jsx)("div",{className:"mt-4 text-4xl leading-relaxed",children:e.text||"Waiting for verse..."})]}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm text-neutral-600",children:[(0,r.jsx)("span",{children:"Channel:"}),(0,r.jsx)("input",{className:"rounded-md border px-2 py-1",value:l,onChange:e=>o(e.target.value)}),(0,r.jsx)("span",{className:"ml-2",children:"Open Remote at /remote to control this screen."})]})]})}},9582:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var r=n(9625),a=n(738),s=n(5978);let l=null,o=null;function i(){let e="AIzaSyDYTudeKDSvY_IrwI5nookV0cv828uAAvU";return e?(l||(l=(0,a.ZF)({apiKey:e,authDomain:"redemptionprojectversion.firebaseapp.com",projectId:"redemptionprojectversion",storageBucket:"redemptionprojectversion.firebasestorage.app",messagingSenderId:"262491376013",appId:"1:262491376013:web:edc2194e6bb7819294d5c4"}),o=(0,s.ad)(l)),{app:l,db:o}):{app:null,db:null}}let c={id:"sample",name:"Sample Translation",books:[{name:"John",chapters:[{number:3,verses:[{number:16,text:"For God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life."}]}]}]},d=(0,r.Ue)((e,t)=>({translations:[],current:null,projectorRef:{translation:"",book:"",chapter:0,verse:0,text:""},channelId:"default",loadSample:()=>{t().translations.length||e({translations:[c],current:c})},setCurrent:n=>{var r;e({current:null!==(r=t().translations.find(e=>e.id===n))&&void 0!==r?r:null})},setReference:e=>{},setChannelId:t=>e({channelId:t}),sendToProjector:n=>{var r;let a=t().current;if(!a)return;let l=a.books.find(e=>e.name===n.book),o=null==l?void 0:l.chapters.find(e=>e.number===n.chapter),c=null==o?void 0:o.verses.find(e=>e.number===n.verse),d={translation:a.name,...n,text:null!==(r=null==c?void 0:c.text)&&void 0!==r?r:""};e({projectorRef:d});let{db:u}=i(),p=t().channelId||"default";u?(0,s.pl)((0,s.JU)(u,"channels",p),d,{merge:!0}):(localStorage.setItem("rpv:projector:".concat(p),JSON.stringify(d)),window.dispatchEvent(new StorageEvent("storage",{key:"rpv:projector:".concat(p)})))},subscribeToChannel:()=>{let n=t().channelId||"default",{db:r}=i();if(r){(0,s.cf)((0,s.JU)(r,"channels",n),t=>{let n=t.data();n&&e({projectorRef:n})});return}let a=()=>{try{let t=localStorage.getItem("rpv:projector:".concat(n));t&&e({projectorRef:JSON.parse(t)})}catch(e){}};a(),window.addEventListener("storage",e=>{e.key==="rpv:projector:".concat(n)&&a()})},importJson:t=>{var n,r;let a=null!==(n=t.translations)&&void 0!==n?n:[];e({translations:a,current:null!==(r=a[0])&&void 0!==r?r:null})},addOrUpdateVerse:n=>{var r,a;let{translationId:s,book:l,chapter:o,verse:i,text:c}=n,d=t(),u=[...d.translations],p=u.find(e=>e.id===s);p||(p={id:s,name:s,books:[]},u.push(p));let h=p.books.find(e=>e.name===l);h||(h={name:l,chapters:[]},p.books.push(h));let v=h.chapters.find(e=>e.number===o);v||(v={number:o,verses:[]},h.chapters.push(v));let m=v.verses.find(e=>e.number===i);m?m.text=c:v.verses.push({number:i,text:c}),e({translations:u,current:null!==(a=null!==(r=d.current)&&void 0!==r?r:u[0])&&void 0!==a?a:null})}}))}},function(e){e.O(0,[358,338,971,117,744],function(){return e(e.s=7097)}),_N_E=e.O()}]);