(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{8723:function(e,s,l){Promise.resolve().then(l.bind(l,6683))},6683:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return i},dynamic:function(){return d}});var a=l(7437),t=l(2265),n=l(2118);async function r(e,s,a,t){let{parseDocument:n}=await Promise.all([l.e(980),l.e(904),l.e(448)]).then(l.bind(l,9448));return n(e,s,a,t)}let d="force-dynamic";function i(){let{importJson:e,mergeTranslation:s,addOrUpdateVerse:l}=(0,n.R)(),[d,i]=(0,t.useState)(null),[o,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(""),[x,h]=(0,t.useState)("sample"),[p,b]=(0,t.useState)("Sample Translation"),[g,f]=(0,t.useState)("John"),[v,j]=(0,t.useState)(3),[N,w]=(0,t.useState)(16),[k,C]=(0,t.useState)(""),y=async()=>{if(!d){alert("Please select a PDF or DOCX file");return}let e=d.name.toLowerCase().endsWith(".docx")?"DOCX":"PDF";c(!0),u("Extracting text from ".concat(e,"..."));try{var l,a;u("Parsing chapters and verses...");let e=await r(d,x,p,g);u("Importing translation...");let t=(null===(l=e.books[0])||void 0===l?void 0:l.chapters.length)||0,n=(null===(a=e.books[0])||void 0===a?void 0:a.chapters.reduce((e,s)=>e+s.verses.length,0))||0;await s(e),u("Complete!"),alert("Document uploaded and parsed.\n\nFound ".concat(t," chapter(s) with ").concat(n," verse(s).")),i(null)}catch(e){console.error("Document parsing error:",e),alert("Error parsing document: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{c(!1),u("")}};return(0,a.jsxs)("div",{className:"grid gap-8 lg:grid-cols-2",children:[(0,a.jsxs)("section",{className:"rounded-xl border bg-white p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Upload Document Translation"}),(0,a.jsx)("p",{className:"text-sm text-neutral-600 mt-1",children:"Upload a PDF or DOCX file containing Bible text. The system will automatically identify chapters and verses."}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Translation ID"}),(0,a.jsx)("input",{className:"w-full rounded-md border p-2",value:x,onChange:e=>h(e.target.value),placeholder:"e.g., pidgin-bible"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Translation Name"}),(0,a.jsx)("input",{className:"w-full rounded-md border p-2",value:p,onChange:e=>b(e.target.value),placeholder:"e.g., Pidgin Bible"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Book Name"}),(0,a.jsx)("input",{className:"w-full rounded-md border p-2",value:g,onChange:e=>f(e.target.value),placeholder:"e.g., John"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Document File (PDF or DOCX)"}),(0,a.jsx)("input",{type:"file",accept:"application/pdf,.pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,.docx",onChange:e=>{var s,l;return i(null!==(l=null===(s=e.target.files)||void 0===s?void 0:s[0])&&void 0!==l?l:null)},className:"w-full rounded-md border p-2",disabled:o}),d&&(0,a.jsxs)("p",{className:"mt-1 text-xs text-neutral-600",children:["Selected: ",d.name]})]}),m&&(0,a.jsx)("p",{className:"text-sm text-brand-600",children:m}),(0,a.jsx)("button",{className:"w-full rounded-md bg-brand-600 px-4 py-2 text-white hover:bg-brand-700 disabled:opacity-50 disabled:cursor-not-allowed",onClick:y,disabled:o||!d,children:o?"Parsing Document...":"Upload & Parse Document"})]}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-neutral-50 rounded-md text-xs text-neutral-600",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"Tips for best results:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1",children:[(0,a.jsx)("li",{children:'Ensure chapters are clearly marked (e.g., "Chapter 1", "1", etc.)'}),(0,a.jsx)("li",{children:'Verses should start with verse numbers (e.g., "1 Text here" or "1: Text here")'}),(0,a.jsx)("li",{children:"Use a single book per file (PDF or DOCX)"})]})]})]}),(0,a.jsxs)("section",{className:"rounded-xl border bg-white p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Quick Edit Verse"}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Translation ID"}),(0,a.jsx)("input",{className:"w-full rounded-md border p-2",value:x,onChange:e=>h(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Book"}),(0,a.jsx)("input",{className:"w-full rounded-md border p-2",value:g,onChange:e=>f(e.target.value)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Chapter"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-md border p-2",value:v,onChange:e=>j(Number(e.target.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Verse"}),(0,a.jsx)("input",{type:"number",className:"w-full rounded-md border p-2",value:N,onChange:e=>w(Number(e.target.value))})]})]}),(0,a.jsx)("label",{className:"block text-sm font-medium mt-3",children:"Text"}),(0,a.jsx)("textarea",{className:"w-full rounded-md border p-2 min-h-[120px]",value:k,onChange:e=>C(e.target.value)}),(0,a.jsx)("div",{className:"mt-3 flex gap-2",children:(0,a.jsx)("button",{className:"rounded-md bg-brand-600 px-4 py-2 text-white hover:bg-brand-700",onClick:()=>{if(!k.trim()){alert("Please enter verse text");return}l({translationId:x,book:g,chapter:v,verse:N,text:k}),alert("Verse ".concat(g," ").concat(v,":").concat(N," saved successfully!")),C("")},children:"Save Verse"})})]})]})}}},function(e){e.O(0,[358,338,118,971,117,744],function(){return e(e.s=8723)}),_N_E=e.O()}]);