(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{4837:function(e,n,t){Promise.resolve().then(t.bind(t,218))},218:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return o}});var r=t(7437),a=t(2265),l=t(9582);function o(){var e;let{translations:n,current:t,loadSample:o,setCurrent:s,sendToProjector:d,setChannelId:u}=(0,l.R)(),[i,c]=(0,a.useState)("John"),[p,m]=(0,a.useState)(3),[h,v]=(0,a.useState)(16),[b,f]=(0,a.useState)("default");return(0,a.useEffect)(()=>{o(),u(b)},[o,b,u]),(0,r.jsxs)("div",{className:"max-w-xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold",children:"Remote Controller"}),(0,r.jsx)("p",{className:"text-sm text-neutral-600",children:"Select a reference and push to projector."}),(0,r.jsxs)("div",{className:"mt-4 grid gap-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium",children:"Channel"}),(0,r.jsx)("input",{className:"w-full rounded-md border p-2",value:b,onChange:e=>f(e.target.value)})]}),(0,r.jsx)("label",{className:"text-sm font-medium",children:"Translation"}),(0,r.jsx)("select",{className:"rounded-md border p-2",value:null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"",onChange:e=>s(e.target.value),children:n.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,r.jsx)("input",{className:"rounded-md border p-2",value:i,onChange:e=>c(e.target.value)}),(0,r.jsx)("input",{type:"number",className:"rounded-md border p-2",value:p,onChange:e=>m(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",className:"rounded-md border p-2",value:h,onChange:e=>v(Number(e.target.value))})]}),(0,r.jsx)("button",{className:"rounded-md bg-brand-600 px-4 py-2 text-white",onClick:()=>d({book:i,chapter:p,verse:h}),children:"Send to Projector"})]})]})}},9582:function(e,n,t){"use strict";t.d(n,{R:function(){return i}});var r=t(9625),a=t(738),l=t(5978);let o=null,s=null;function d(){let e="AIzaSyDYTudeKDSvY_IrwI5nookV0cv828uAAvU";return e?(o||(o=(0,a.ZF)({apiKey:e,authDomain:"redemptionprojectversion.firebaseapp.com",projectId:"redemptionprojectversion",storageBucket:"redemptionprojectversion.firebasestorage.app",messagingSenderId:"262491376013",appId:"1:262491376013:web:edc2194e6bb7819294d5c4"}),s=(0,l.ad)(o)),{app:o,db:s}):{app:null,db:null}}let u={id:"sample",name:"Sample Translation",books:[{name:"John",chapters:[{number:3,verses:[{number:16,text:"For God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life."}]}]}]},i=(0,r.Ue)((e,n)=>({translations:[],current:null,projectorRef:{translation:"",book:"",chapter:0,verse:0,text:""},channelId:"default",loadSample:()=>{n().translations.length||e({translations:[u],current:u})},setCurrent:t=>{var r;e({current:null!==(r=n().translations.find(e=>e.id===t))&&void 0!==r?r:null})},setReference:e=>{},setChannelId:n=>e({channelId:n}),sendToProjector:t=>{var r;let a=n().current;if(!a)return;let o=a.books.find(e=>e.name===t.book),s=null==o?void 0:o.chapters.find(e=>e.number===t.chapter),u=null==s?void 0:s.verses.find(e=>e.number===t.verse),i={translation:a.name,...t,text:null!==(r=null==u?void 0:u.text)&&void 0!==r?r:""};e({projectorRef:i});let{db:c}=d(),p=n().channelId||"default";c?(0,l.pl)((0,l.JU)(c,"channels",p),i,{merge:!0}):(localStorage.setItem("rpv:projector:".concat(p),JSON.stringify(i)),window.dispatchEvent(new StorageEvent("storage",{key:"rpv:projector:".concat(p)})))},subscribeToChannel:()=>{let t=n().channelId||"default",{db:r}=d();if(r){(0,l.cf)((0,l.JU)(r,"channels",t),n=>{let t=n.data();t&&e({projectorRef:t})});return}let a=()=>{try{let n=localStorage.getItem("rpv:projector:".concat(t));n&&e({projectorRef:JSON.parse(n)})}catch(e){}};a(),window.addEventListener("storage",e=>{e.key==="rpv:projector:".concat(t)&&a()})},importJson:n=>{var t,r;let a=null!==(t=n.translations)&&void 0!==t?t:[];e({translations:a,current:null!==(r=a[0])&&void 0!==r?r:null})},addOrUpdateVerse:t=>{var r,a;let{translationId:l,book:o,chapter:s,verse:d,text:u}=t,i=n(),c=[...i.translations],p=c.find(e=>e.id===l);p||(p={id:l,name:l,books:[]},c.push(p));let m=p.books.find(e=>e.name===o);m||(m={name:o,chapters:[]},p.books.push(m));let h=m.chapters.find(e=>e.number===s);h||(h={number:s,verses:[]},m.chapters.push(h));let v=h.verses.find(e=>e.number===d);v?v.text=u:h.verses.push({number:d,text:u}),e({translations:c,current:null!==(a=null!==(r=i.current)&&void 0!==r?r:c[0])&&void 0!==a?a:null})}}))}},function(e){e.O(0,[358,338,971,117,744],function(){return e(e.s=4837)}),_N_E=e.O()}]);