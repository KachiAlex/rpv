"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{9448:function(e,t,n){n.d(t,{parsePDF:function(){return s}});var r=n(7781);async function s(e,t,n,s){let l=await e.arrayBuffer(),i=await r.Me({data:l}).promise,a="";for(let e=1;e<=i.numPages;e++){let t=await i.getPage(e);a+=(await t.getTextContent()).items.map(e=>e.str).join(" ")+"\n"}return{id:t,name:n,books:[{name:s,chapters:function(e,t){let n=[],r=[/^Chapter\s+(\d+)/i,/^CHAPTER\s+(\d+)/i,/^(\d+)\s*$/m,/^(\d+):\s*$/m],s=/^(\d+)[\s:]/m,l=e.split(/\n+/).filter(e=>e.trim().length>0),i=null,a=null,u=[];for(let e=0;e<l.length;e++){let t=l[e].trim(),m=null;for(let e of r)if(m=t.match(e))break;if(m){i&&a&&(a.text=u.join(" ").trim(),i.verses.push(a),a=null,u=[]),i&&n.push(i),i={number:parseInt(m[1],10),verses:[]};continue}let p=t.match(s);if(p){a&&u.length>0&&(a.text=u.join(" ").trim(),null==i||i.verses.push(a));let e=parseInt(p[1],10),n=t.replace(p[0],"").trim();a={number:e,text:n},u=[n];continue}if(a)u.push(t);else if(i){let e=t.match(/^(\d+)[\s:]/);if(e){let n=parseInt(e[1],10),r=t.replace(e[0],"").trim();a={number:n,text:r},u=[r]}}}return(a&&u.length>0&&(a.text=u.join(" ").trim(),null==i||i.verses.push(a)),i&&i.verses.length>0&&n.push(i),0===n.length)?function(e){let t=[],n=e.split(/\n+/).filter(e=>e.trim().length>0),r=null;for(let e of n){let n=e.trim(),s=n.match(/^(\d+)$/);if(s&&150>=parseInt(s[1],10)){r&&t.push(r),r={number:parseInt(s[1],10),verses:[]};continue}let l=n.match(/^(\d+)[\s:]+(.+)$/);if(l&&r){let e=parseInt(l[1],10),t=l[2].trim();e<=200&&r.verses.push({number:e,text:t})}}return r&&t.push(r),t}(e):n}(a,0)}]}}r.Tu.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(r.i8,"/pdf.worker.min.js")}}]);